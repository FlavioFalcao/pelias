#!/usr/bin/env node

var program = require('commander-plus');

program
  .version('0.0.0')
  .usage('[options]')
  .option('-c, --countrycodes', 'list all country datasets available for download')
  .option('-i, --import [ISO]', 'import geoname data for [ISO country code] in to Pelias')
  .option('-d, --download [ISO]', 'locally cache data from geonames.org for [ISO country code]')
  .option('-m, --meta', 'download & update geonames metadata files')
  .parse(process.argv);

// if( program.foo ){
//   program.prompt('name: ', function(name){
//     console.log('hi %s', name);
//     process.stdin.destroy();
//   });
// }

if( program.countrycodes ){
  var task = require('../task/countrycodes');
  task();
}

else if( program.meta ){
  var task = require('../task/meta');
  task();
}

else {
  program.help();
}